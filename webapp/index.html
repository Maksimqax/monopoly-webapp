<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–æ–Ω–æ–ø–æ–ª–∏—è ‚Äî WebApp</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
<div id="app">

  <section id="menu">
    <h1>–ú–æ–Ω–æ–ø–æ–ª–∏—è ‚Äî –ª–æ–±–±–∏</h1>

    <div class="toolbar">
      <button id="refreshRooms">–û–±–Ω–æ–≤–∏—Ç—å</button>
      <button id="openCreate">–°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏</button>
    </div>

    <div id="rooms"></div>

    <details class="tip">
      <summary>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</summary>
      –°–æ–∑–¥–∞–π—Ç–µ –ª–æ–±–±–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ/–ø–∞—Ä–æ–ª—å/2‚Äì5 –∏–≥—Ä–æ–∫–æ–≤), –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å ID. –û—Ç–∫—Ä—ã—Ç—ã–µ –ª–æ–±–±–∏ ‚Äî –±–µ–∑ –ø–∞—Ä–æ–ª—è.<br>
      –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É. –°—Ç—Ä–æ–∏–º/–ø—Ä–æ–¥–∞—ë–º –¥–æ–º–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –ø–æ —Ü–≤–µ—Ç–æ–≤–æ–π –≥—Ä—É–ø–ø–µ.<br>
      –ù–æ–≤–æ–µ: –∞—É–∫—Ü–∏–æ–Ω—ã, –∏–ø–æ—Ç–µ–∫–∞ (–∑–∞–ª–æ–∂–∏—Ç—å/–≤—ã–∫—É–ø–∏—Ç—å), —Å–¥–µ–ª–∫–∏ ¬´–∫–ª–µ—Ç–∫–∞ ‚Üî –¥–µ–Ω—å–≥–∏¬ª.
    </details>
  </section>

  <section id="lobby" class="hidden">
    <h2 id="lobbyTitle">–õ–æ–±–±–∏</h2>
    <div id="players"></div>
    <div class="row">
      <button id="startBtn" class="primary">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É (—Å–æ–∑–¥–∞—Ç–µ–ª—å)</button>
      <button id="backToMenu">–ù–∞–∑–∞–¥</button>
    </div>
  </section>

  <section id="board" class="hidden">
    <header class="board-header">
      <div id="turnInfo"></div>
      <div class="row">
        <button id="rollBtn">üé≤ –ë—Ä–æ—Å–∏—Ç—å</button>
        <button id="buyBtn">–ö—É–ø–∏—Ç—å</button>
        <button id="auctionBtn">–ê—É–∫—Ü–∏–æ–Ω</button>
        <button id="buildBtn">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å</button>
        <button id="sellBtn">–ü—Ä–æ–¥–∞—Ç—å –¥–æ–º</button>
        <button id="mortBtn">–ó–∞–ª–æ–∂–∏—Ç—å</button>
        <button id="unmortBtn">–í—ã–∫—É–ø–∏—Ç—å</button>
        <button id="tradeBtn">–°–¥–µ–ª–∫–∞</button>
        <button id="endBtn">–ö–æ–Ω–µ—Ü —Ö–æ–¥–∞</button>
      </div>
    </header>

    <main class="board">
      <ul id="tiles" class="tiles"></ul>

      <aside class="sidebar">
        <h3>–ò–≥—Ä–æ–∫–∏</h3>
        <ul id="plist"></ul>

        <h3>–ê—É–∫—Ü–∏–æ–Ω</h3>
        <div id="auction" class="tip hidden">
          <div id="aucInfo"></div>
          <div class="row">
            <button id="aucBid">–°—Ç–∞–≤–∫–∞ +10</button>
            <button id="aucPass">–ü–∞—Å</button>
          </div>
        </div>

        <h3>–ñ—É—Ä–Ω–∞–ª</h3>
        <div id="log" class="log"></div>
      </aside>
    </main>
  </section>
</div>

<!-- –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏ -->
<dialog id="dlgCreate">
  <form id="createForm" method="dialog">
    <h3>–°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏</h3>
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ <input name="name" required maxlength="30" value="–ö–æ–º–Ω–∞—Ç–∞" /></label>
    <label>–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤
      <select name="max_players"><option>2</option><option selected>4</option><option>5</option></select>
    </label>
    <label>–ü–∞—Ä–æ–ª—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) <input name="password" placeholder="(–±–µ–∑ –ø–∞—Ä–æ–ª—è ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞—è)" /></label>
    <label>–í–∞—à –Ω–∏–∫ <input name="owner_name" required maxlength="20" /></label>
    <label>–¶–≤–µ—Ç —Ñ–∏—à–∫–∏ <input name="owner_color" type="color" value="#1e90ff" /></label>
    <menu><button value="cancel">–û—Ç–º–µ–Ω–∞</button><button value="ok" class="primary">–°–æ–∑–¥–∞—Ç—å</button></menu>
  </form>
</dialog>

<!-- –í–æ–π—Ç–∏ -->
<dialog id="dlgJoin">
  <form id="joinForm" method="dialog">
    <h3>–í–æ–π—Ç–∏ –≤ –ª–æ–±–±–∏</h3>
    <p id="joinRoomInfo"></p>
    <label>–ù–∏–∫ <input name="name" required maxlength="20" /></label>
    <label>–¶–≤–µ—Ç —Ñ–∏—à–∫–∏ <input name="color" type="color" value="#ff6347" /></label>
    <label>–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç–æ) <input name="password" /></label>
    <menu><button value="cancel">–û—Ç–º–µ–Ω–∞</button><button value="ok" class="primary">–í–æ–π—Ç–∏</button></menu>
  </form>
</dialog>

<!-- –°–¥–µ–ª–∫–∞ -->
<dialog id="dlgTrade">
  <form id="tradeForm" method="dialog">
    <h3>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–¥–µ–ª–∫—É</h3>
    <p>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: <b>–º–æ—é —Ç–µ–∫—É—â—É—é –∫–ª–µ—Ç–∫—É</b> –¥—Ä—É–≥–æ–º—É –∏–≥—Ä–æ–∫—É –∑–∞ –¥–µ–Ω—å–≥–∏</p>
    <label>–ò–≥—Ä–æ–∫
      <select name="target" id="tradeTargets"></select>
    </label>
    <label>–°—É–º–º–∞ ($)
      <input name="money" type="number" min="0" step="10" value="100" />
    </label>
    <menu><button value="cancel">–û—Ç–º–µ–Ω–∞</button><button value="ok" class="primary">–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å</button></menu>
  </form>
</dialog>

<script>const API = location.origin;</script>
<script src="/static/app.js"></script>
</body>
</html>
